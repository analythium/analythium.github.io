(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{154:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return p})),n.d(t,"metadata",(function(){return o})),n.d(t,"rightToc",(function(){return l})),n.d(t,"default",(function(){return s}));var a=n(2),i=n(9),r=(n(0),n(177)),p={id:"shiny-app",title:"Shiny App"},o={id:"shiny-app",title:"Shiny App",description:"With the UI",source:"@site/docs/shiny-app.md",permalink:"/docs/shiny-app",editUrl:"https://github.com/analythium/analythium.github.io/edit/source/docs/shiny-app.md",lastUpdatedBy:"Peter Solymos",lastUpdatedAt:1626841807,sidebar:"docs",previous:{title:"Server Function",permalink:"/docs/shiny-server"},next:{title:"Containers",permalink:"/docs/containers"}},l=[{value:"Single file app",id:"single-file-app",children:[]},{value:"Multiple file app",id:"multiple-file-app",children:[]},{value:"Deployment",id:"deployment",children:[]}],c={rightToc:l};function s(e){var t=e.components,n=Object(i.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},c,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://hosting.analythium.io/?utm_source=as-hub&utm_medium=web&utm_campaign=evergreen"}),Object(r.b)("img",Object(a.a)({parentName:"a"},{src:"https://hub.analythium.io/assets/marks/hosting-banner-2.jpg",alt:"Hosting Data Apps"})))),Object(r.b)("p",null,"With the ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"shiny-ui"}),"UI"),"\nand the ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"shiny-server"}),"server function"),",\nwe can run the Shiny app locally:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-r"}),"shinyApp(ui = ui, server = server)\n")),Object(r.b)("h2",{id:"single-file-app"},"Single file app"),Object(r.b)("p",null,"We can combine the code so far into a single file, e.g. called ",Object(r.b)("inlineCode",{parentName:"p"},"app.R"),":"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-r"}),'library(shiny)\n\nui <- fluidPage(\n    mainPanel(\n        sliderInput("obs",\n            "Number of observations",\n            min = 1,\n            max = 5000,\n            value = 100),\n        plotOutput("distPlot")\n    )\n)\n\nserver <- function(input, output) {\n    output$distPlot <- renderPlot({\n        dist <- rnorm(input$obs)\n        hist(dist,\n            col="purple",\n            xlab="Random values")\n    })\n}\n\nshinyApp(ui = ui, server = server)\n')),Object(r.b)("p",null,"What's new here is that we passed ",Object(r.b)("inlineCode",{parentName:"p"},"ui")," and ",Object(r.b)("inlineCode",{parentName:"p"},"server")," to ",Object(r.b)("inlineCode",{parentName:"p"},"shinyApp()")," which\nreturns the Shiny app object. This is passed to ",Object(r.b)("inlineCode",{parentName:"p"},"runApp()")," via the implicit print method to run the app."),Object(r.b)("p",null,"The ",Object(r.b)("inlineCode",{parentName:"p"},"runApp()")," function can also take the\n",Object(r.b)("inlineCode",{parentName:"p"},"app.R")," file as argument because the file returns the app object:\n",Object(r.b)("inlineCode",{parentName:"p"},'runApp("app.R")'),"."),Object(r.b)("h2",{id:"multiple-file-app"},"Multiple file app"),Object(r.b)("p",null,"An alternative to having everything for our app in a single ",Object(r.b)("inlineCode",{parentName:"p"},"app.R")," file, we can specify a directory where the ",Object(r.b)("inlineCode",{parentName:"p"},"app.R")," file can be found.\nHowever, when a directory is specified, we can have the Shiny app components\nin separate files. This usually helps in maintaining the app when it grows more complex."),Object(r.b)("p",null,"It is good practice to create a ",Object(r.b)("inlineCode",{parentName:"p"},"global.R")," file with all the prerequisites\nrequired by the app, i.e. loading libraries, scripts, data sets, running data\nprocessing or defining functions. In our simple case we only load\nthe shiny package. Thus in our ",Object(r.b)("inlineCode",{parentName:"p"},"global.R")," file we'll have the following line:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-r"}),"library(shiny)\n")),Object(r.b)("p",null,"The ",Object(r.b)("inlineCode",{parentName:"p"},"ui.R")," file contains the UI definition:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-r"}),'ui <- fluidPage(\n    mainPanel(\n        sliderInput("obs",\n            "Number of observations",\n            min = 1,\n            max = 5000,\n            value = 100),\n        plotOutput("distPlot")\n    )\n)\n')),Object(r.b)("p",null,"Similarly, we have a ",Object(r.b)("inlineCode",{parentName:"p"},"server.R")," file defining the ",Object(r.b)("inlineCode",{parentName:"p"},"server")," function:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-r"}),'server <- function(input, output) {\n    output$distPlot <- renderPlot({\n        dist <- rnorm(input$obs)\n        hist(dist,\n            col="purple",\n            xlab="Random values")\n    })\n}\n')),Object(r.b)("p",null,"We can now point ",Object(r.b)("inlineCode",{parentName:"p"},"runApp()")," to this directory."),Object(r.b)("h2",{id:"deployment"},"Deployment"),Object(r.b)("p",null,"Next we will look at Shiny app deployment.\nBesides the officially recommended\ndeployment options, such as ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://www.shinyapps.io/"}),"shinyapps.io"),"\nor the ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://rstudio.com/products/shiny/download-server/"}),"open source Shiny server"),", there are other possibilities.\nOne particular option that we will review in depth is the\ndeployment of Shiny apps via Docker and ShinyProxy. Read on!"),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"Further reading")),Object(r.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("ul",{parentName:"div"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(a.a)({parentName:"li"},{href:"https://hosting.analythium.io/?utm_source=as-hub&utm_medium=web&utm_campaign=evergreenrun-shiny-apps-locally?utm_source=as-hub&utm_medium=web&utm_campaign=launch-april-2021"}),"Run Shiny apps locally")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(a.a)({parentName:"li"},{href:"https://hosting.analythium.io/?utm_source=as-hub&utm_medium=web&utm_campaign=evergreenthe-anatomy-of-a-shiny-application?utm_source=as-hub&utm_medium=web&utm_campaign=launch-april-2021"}),"The anatomy of a Shiny application")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(a.a)({parentName:"li"},{href:"https://shiny.rstudio.com/deploy/"}),"Deployment")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",Object(a.a)({parentName:"li"},{href:"https://shiny.rstudio.com/tutorial/written-tutorial/lesson7/"}),"Sharing Shiny apps"))))),Object(r.b)("p",null,Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://hosting.analythium.io/?utm_source=as-hub&utm_medium=web&utm_campaign=evergreen"}),Object(r.b)("img",Object(a.a)({parentName:"a"},{src:"https://hub.analythium.io/assets/marks/hosting-banner-2.jpg",alt:"Hosting Data Apps"})))))}s.isMDXComponent=!0},177:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h}));var a=n(0),i=n.n(a);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=i.a.createContext({}),s=function(e){var t=i.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=s(e.components);return i.a.createElement(c.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},m=i.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,p=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=s(n),m=a,h=u["".concat(p,".").concat(m)]||u[m]||b[m]||r;return n?i.a.createElement(h,o(o({ref:t},c),{},{components:n})):i.a.createElement(h,o({ref:t},c))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,p=new Array(r);p[0]=m;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:a,p[1]=o;for(var c=2;c<r;c++)p[c]=n[c];return i.a.createElement.apply(null,p)}return i.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"}}]);