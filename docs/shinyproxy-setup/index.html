<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.56">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Analythium Hub Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Analythium Hub Blog Atom Feed">
<script src="https://www.googletagmanager.com/gtag/js?id=UA-147215898-3" async></script>
<script src="gascript.js"></script><title data-react-helmet="true">Set Up ShinyProxy | Analythium Hub</title><meta data-react-helmet="true" property="og:image" content="https://hub.analythium.io/img/hub-thumb.png"><meta data-react-helmet="true" property="twitter:image" content="https://hub.analythium.io/img/hub-thumb.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for Analythium Hub"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Set Up ShinyProxy | Analythium Hub"><meta data-react-helmet="true" name="description" content="The ShinyProxy chapter here describes how to set up and customize your very own ShinyProxy server on Ubuntu (18.04 or 20.04)."><meta data-react-helmet="true" property="og:description" content="The ShinyProxy chapter here describes how to set up and customize your very own ShinyProxy server on Ubuntu (18.04 or 20.04)."><meta data-react-helmet="true" property="og:url" content="https://hub.analythium.io/docs/shinyproxy-setup"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://hub.analythium.io/docs/shinyproxy-setup"><link rel="stylesheet" href="/styles.d0f00354.css">
<link rel="preload" href="/styles.6d6aaa11.js" as="script">
<link rel="preload" href="/runtime~main.3f872996.js" as="script">
<link rel="preload" href="/main.971cdabe.js" as="script">
<link rel="preload" href="/1.54ecd145.js" as="script">
<link rel="preload" href="/2.d38329de.js" as="script">
<link rel="preload" href="/3.a134e7a8.js" as="script">
<link rel="preload" href="/1be78505.d69a67a9.js" as="script">
<link rel="preload" href="/42.02005ea6.js" as="script">
<link rel="preload" href="/20ac7829.9b5e15af.js" as="script">
<link rel="preload" href="/d87f7c56.5ae34a76.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top navbarHideable_OaSq"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a href="https://hub.analythium.io/" target="_self" rel="noopener noreferrer" class="navbar__brand" to="https://hub.analythium.io/"><img class="navbar__logo" src="/img/logo.svg" alt="Analythium Logo"><strong class="navbar__title">Analythium Hub</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/blog/">News</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/analythium/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a href="https://hub.analythium.io/" target="_self" rel="noopener noreferrer" class="navbar__brand" to="https://hub.analythium.io/"><img class="navbar__logo" src="/img/logo.svg" alt="Analythium Logo"><strong class="navbar__title">Analythium Hub</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/blog/">News</a></li><li class="menu__list-item"><a href="https://github.com/analythium/" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs sidebarWithHideableNavbar_1-U5"><a href="https://hub.analythium.io/" target="_self" rel="noopener noreferrer" tabindex="-1" class="sidebarLogo_3ono" to="https://hub.analythium.io/"><img src="/img/logo.svg" alt="Analythium Logo"><strong>Analythium Hub</strong></a><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/introduction">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Shiny</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/shiny">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/shiny-ui">Shiny UI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/shiny-server">Server Function</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/shiny-app">Shiny App</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Containers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/containers">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/containers-docker">Docker Basics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/containers-shiny">Shiny in Docker</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">ShinyProxy</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/shinyproxy">Introduction</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/shinyproxy-setup">Set Up ShinyProxy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/shinyproxy-secure">Secure ShinyProxy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/shinyproxy-update">Update ShinyProxy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/shinyproxy-webhook">CI/CD with Webhook</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Set Up ShinyProxy</h1></header><div class="markdown"><p>The ShinyProxy chapter here describes how to set up and customize your very own ShinyProxy server on Ubuntu (18.04 or 20.04).</p><p>If you are short on time, the <strong>1-Click option</strong> lets you deploy ShinyProxy on DigitalOcean droplets in fully-tested app environments.
You can use <a href="https://m.do.co/c/a8041699739d" target="_blank" rel="noopener noreferrer">this referral link</a> to sign up to DigitalOcean if you don&#x27;t yet have an account.</p><p><a href="https://marketplace.digitalocean.com/apps/shinyproxy?refcode=a8041699739d" target="_blank" rel="noopener noreferrer"><img src="https://raw.githubusercontent.com/analythium/shinyproxy-1-click/master/digitalocean/images/do-btn-blue.svg" alt="DO button"></a></p><iframe width="560" height="315" src="https://www.youtube.com/embed/aoIlaOYRpQs" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="create-a-vm"></a>Create a VM<a aria-hidden="true" tabindex="-1" class="hash-link" href="#create-a-vm" title="Direct link to heading">#</a></h2><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>You can use your preferred cloud provider or bare metal server
running Ubuntu (18.04 or 20.04) for ShinyProxy. But the rest
of the tutorial assumes that you use DigitalOcean droplet
with Ubuntu 20.04 (LTS).</p></div></div><p>Use DigitalOcean control panel to create a Droplet based on the
<a href="https://github.com/digitalocean/marketplace-partners#supported-operating-systems" target="_blank" rel="noopener noreferrer">one of the supported OS-es</a>
for Marketplace images.
Select your preferred region, don&#x27;t forget to add SSH keys.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="install"></a>Install<a aria-hidden="true" tabindex="-1" class="hash-link" href="#install" title="Direct link to heading">#</a></h2><p>Once your droplet is up an running, log in with
<code>ssh -i ~/YOUR_SSH_KEY root@YOUR_IP_ADDRESS</code>,
use your SSH key and IP address.</p><p>Update:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">apt-get</span><span class="token plain"> update</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">apt-get</span><span class="token plain"> upgrade</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="java"></a>Java<a aria-hidden="true" tabindex="-1" class="hash-link" href="#java" title="Direct link to heading">#</a></h3><p>First, install Java:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">apt-get</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> default-jre</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">apt-get</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> default-jdk</span></div></div></div></div></div><p><code>java -version</code> should return something like this:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">openjdk version </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;11.0.8&quot;</span><span class="token plain"> </span><span class="token number">2020</span><span class="token plain">-07-14</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">OpenJDK Runtime Environment </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">build </span><span class="token number">11.0</span><span class="token plain">.8+10-post-Ubuntu-0ubuntu120.04</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">OpenJDK </span><span class="token number">64</span><span class="token plain">-Bit Server VM </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">build </span><span class="token number">11.0</span><span class="token plain">.8+10-post-Ubuntu-0ubuntu120.04, mixed mode, sharing</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="docker"></a>Docker<a aria-hidden="true" tabindex="-1" class="hash-link" href="#docker" title="Direct link to heading">#</a></h3><p>We will install Docker CE (community edition) and Docker Compose:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">apt-get</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> docker</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">apt-get</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> docker-compose</span></div></div></div></div></div><p>Check to see if Docker is running <code>sudo service docker status</code>.</p><p>ShinyProxy needs to connect to the docker daemon to spin up the containers for the apps.
By default ShinyProxy will do so on port 2375 of the docker host.
In order to allow for connections on port 2375, the startup options need to be edited
following the ShinyProxy <a href="https://www.shinyproxy.io/getting-started/#docker-startup-options" target="_blank" rel="noopener noreferrer">guide</a>.</p><p>On an Ubuntu 16.04 LTS or higher that uses <code>systemd</code>,
one can create a file <code>/etc/systemd/system/docker.service.d/override.conf</code>:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">mkdir</span><span class="token plain"> /etc/systemd/system/docker.service.d</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">touch</span><span class="token plain"> /etc/systemd/system/docker.service.d/override.conf</span></div></div></div></div></div><p>Add the following content (<code>vim /etc/systemd/system/docker.service.d/override.conf</code>):</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">Service</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">ExecStart</span><span class="token operator">=</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(189, 147, 249);font-style:italic">ExecStart</span><span class="token operator">=</span><span class="token plain">/usr/bin/dockerd -H unix:// -D -H tcp://127.0.0.1:2375</span></div></div></div></div></div><p>Reload the system daemon and restart Docker:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> systemctl daemon-reload</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> systemctl restart docker</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> systemctl </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">enable</span><span class="token plain"> docker</span></div></div></div></div></div><p>The <code>sudo systemctl enable docker</code> enables Docker service start when the system boots.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="shinyproxy"></a>ShinyProxy<a aria-hidden="true" tabindex="-1" class="hash-link" href="#shinyproxy" title="Direct link to heading">#</a></h3><p>We download the 2.4.0 version of Shinyproxy (in case of newer version, just change the file name accordingly, check for updates <a href="https://www.shinyproxy.io/downloads/" target="_blank" rel="noopener noreferrer">here</a>):</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">wget</span><span class="token plain"> https://www.shinyproxy.io/downloads/shinyproxy_2.4.0_amd64.deb</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">apt</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> ./shinyproxy_2.4.0_amd64.deb</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">rm</span><span class="token plain"> shinyproxy_2.4.0_amd64.deb</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="images"></a>Images<a aria-hidden="true" tabindex="-1" class="hash-link" href="#images" title="Direct link to heading">#</a></h3><p>Pull two demo Docker images – one of these images is the one we just built in the previous chapter:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> docker pull analythium/shinyproxy-demo:latest</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> docker pull registry.gitlab.com/analythium/shinyproxy-hello/hello:latest</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="configuration"></a>Configuration<a aria-hidden="true" tabindex="-1" class="hash-link" href="#configuration" title="Direct link to heading">#</a></h3><p>Create <code>application.yml</code> in the <code>/etc/shinyproxy</code> directory:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token builtin class-name" style="color:rgb(189, 147, 249)">cd</span><span class="token plain"> /etc/shinyproxy</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">touch</span><span class="token plain"> application.yml</span></div></div></div></div></div><p>You can put here the <code>favicon.ico</code> file as desired.</p><p>Now copy these configs using <code>vim /etc/shinyproxy/application.yml</code>:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-vim codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">proxy:</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  title: ShinyProxy</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">#  logo-url: https://link/to/your/logo.png</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  landing-page: /</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  favicon-path: favicon.ico</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  heartbeat-rate: 10000</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  heartbeat-timeout: 600000</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  port: 8080</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  authentication: simple</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  admin-groups: admins</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  # Example: &#x27;simple&#x27; authentication configuration</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  users:</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  - name: admin</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    password: password</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    groups: admins</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  - name: user</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    password: password</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    groups: users</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  # Docker configuration</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  docker:</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    cert-path: /home/none</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    url: http://localhost:2375</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    port-range-start: 20000</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  specs:</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  - id: 01_hello</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    display-name: Hello Shiny App</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    description: A simple reactive histogram</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    container-cmd: [&quot;R&quot;, &quot;-e&quot;, &quot;shiny::runApp(&#x27;/root/app&#x27;)&quot;]</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    container-image: registry.gitlab.com/analythium/shinyproxy-hello/hello:latest</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    logo-url: https://github.com/analythium/shinyproxy-1-click/raw/master/digitalocean/images/app-hist.png</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    access-groups: [admins, users]</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  - id: 02_hello</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    display-name: Demo Shiny App</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    description: App with sliders and large file upload</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    container-cmd: [&quot;R&quot;, &quot;-e&quot;, &quot;shiny::runApp(&#x27;/root/app&#x27;)&quot;]</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    container-image: analythium/shinyproxy-demo:latest</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    logo-url: https://github.com/analythium/shinyproxy-1-click/raw/master/digitalocean/images/app-dots.png</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    access-groups: [admins]</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">logging:</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  file:</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    shinyproxy.log</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">spring:</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  servlet:</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    multipart:</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      max-file-size: 200MB</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      max-request-size: 200MB</span></div></div></div></div></div><p>Edit <code>/etc/shinyproxy/application.yml</code> as required (file size limits, apps, <code>heartbeat-timeout</code>),
then restart ShinyProxy to take effect using <code>sudo service shinyproxy restart</code>.
Read the ShinyProxy <a href="https://www.shinyproxy.io/documentation/configuration/" target="_blank" rel="noopener noreferrer">configuration</a> documentation.</p><p>Besides adding apps and permissions, edits were made to increase file size limit
and the default <code>heartbeat-timeout: 60000</code> (1 minute in milliseconds) to <code>600000</code> (10 mins), etc. We found these settings more justified in production based on user feedback.</p><p>Now <code>cd ~</code> back to the home (<code>/root</code>) folder to continue.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="nginx"></a>Nginx<a aria-hidden="true" tabindex="-1" class="hash-link" href="#nginx" title="Direct link to heading">#</a></h3><p>ShinyProxy is now can be accessed at <code>YOUR_IP_ADDRESS:8080</code>. We can set the port to 80
which is the standard HTTP port.
Install Nginx:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">apt-get</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> nginx</span></div></div></div></div></div><p>Edit the config file:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">vim</span><span class="token plain"> /etc/nginx/sites-enabled/default</span></div></div></div></div></div><p>Find the <code>location / {</code> line and add the following:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">location / </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    proxy_pass          http://127.0.0.1:8080/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    proxy_http_version </span><span class="token number">1.1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    proxy_set_header Upgrade </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$http_upgrade</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    proxy_set_header Connection </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;upgrade&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    proxy_read_timeout 600s</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    proxy_redirect    off</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    proxy_set_header  Host             </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$http_host</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    proxy_set_header  X-Real-IP        </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$remote_addr</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    proxy_set_header  X-Forwarded-For  </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$proxy_add_x_forwarded_for</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    proxy_set_header  X-Forwarded-Protocol </span><span class="token variable" style="color:rgb(189, 147, 249);font-style:italic">$scheme</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span></div></div></div></div></div><p>Add <code>client_max_body_size 200M;</code> to the <code>server {</code> block if handling large files is needed.</p><p>Restart nginx with <code>sudo service nginx restart</code> and you can access the site at <code>http://YOUR_IP_ADDRESS/</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="firewall"></a>Firewall<a aria-hidden="true" tabindex="-1" class="hash-link" href="#firewall" title="Direct link to heading">#</a></h3><p>UFW is an Uncomplicated Firewall.
We enables the UFW firewall to allow only SSH, HTTP and HTTPS.
See a detailed tutorial <a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-a-firewall-with-ufw-on-ubuntu-20-04" target="_blank" rel="noopener noreferrer">here</a>.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">apt</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> ufw</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> ufw default deny incoming</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> ufw default allow outgoing</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> ufw allow </span><span class="token function" style="color:rgb(80, 250, 123)">ssh</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> ufw allow http</span></div></div></div></div></div><p>Finally, enable these rules by running
<code>sudo ufw enable</code>. This also disables the previously used 8080 port.
Check <code>ufw status</code> to see:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">Status: active</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">To                         Action      From</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">--                         ------      ----</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">22</span><span class="token plain">/tcp                     ALLOW       Anywhere</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">80</span><span class="token plain">/tcp                     ALLOW       Anywhere</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">22</span><span class="token plain">/tcp </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">v6</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">                ALLOW       Anywhere </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">v6</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token number">80</span><span class="token plain">/tcp </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">v6</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain">                ALLOW       Anywhere </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">v6</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span></div></div></div></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Contact us!</h5></div><div class="admonition-content"><p>Would you like to run your own ShinyProxy server? Reach out to <a href="https://analythium.io/contact" target="_blank" rel="noopener noreferrer">Analythium</a> if you need commercial support and consulting services!</p></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/analythium/analythium.github.io/edit/source/docs/shinyproxy-setup.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2021-01-21T02:38:36.000Z" class="docLastUpdatedAt_1sqk">1/21/2021</time> by <strong>Peter Solymos</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/shinyproxy"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« ShinyProxy</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/shinyproxy-secure"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Secure ShinyProxy »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#create-a-vm" class="table-of-contents__link">Create a VM</a></li><li><a href="#install" class="table-of-contents__link">Install</a><ul><li><a href="#java" class="table-of-contents__link">Java</a></li><li><a href="#docker" class="table-of-contents__link">Docker</a></li><li><a href="#shinyproxy" class="table-of-contents__link">ShinyProxy</a></li><li><a href="#images" class="table-of-contents__link">Images</a></li><li><a href="#configuration" class="table-of-contents__link">Configuration</a></li><li><a href="#nginx" class="table-of-contents__link">Nginx</a></li><li><a href="#firewall" class="table-of-contents__link">Firewall</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/analythium" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://www.linkedin.com/company/analythium/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Links</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.analythium.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Analythium.io</a></li><li class="footer__item"><a href="https://blog.analythium.io" target="_blank" rel="noopener noreferrer" class="footer__link-item" to="https://blog.analythium.io">Analythium blog</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Legal</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.analythium.io/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy policy</a></li><li class="footer__item"><a href="https://www.analythium.io/terms/" target="_blank" rel="noopener noreferrer" class="footer__link-item" to="https://www.analythium.io/terms/">Terms of service</a></li></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><a href="https://hub.analythium.io" target="_blank" rel="noopener noreferrer" class="footerLogoLink_1Wg7"><img class="footer__logo" alt="Analythium Logo" src="https://hub.analythium.io/assets/marks/word-mark-dark-yellow-wide.png"></a></div><div>Copyright © 2021 Analythium Solutions Inc.</div></div></div></footer></div>
<script src="/styles.6d6aaa11.js"></script>
<script src="/runtime~main.3f872996.js"></script>
<script src="/main.971cdabe.js"></script>
<script src="/1.54ecd145.js"></script>
<script src="/2.d38329de.js"></script>
<script src="/3.a134e7a8.js"></script>
<script src="/1be78505.d69a67a9.js"></script>
<script src="/42.02005ea6.js"></script>
<script src="/20ac7829.9b5e15af.js"></script>
<script src="/d87f7c56.5ae34a76.js"></script>
</body>
</html>